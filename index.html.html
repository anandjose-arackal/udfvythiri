<!doctype html>
<html>
<head>
  <meta charset="utf-8" />

  <style>
    /* A4 page */
    .page {
      width: 210mm;
      height: 297mm;
      margin: 0;
      /*padding: 8mm 10mm;*/
      box-sizing: border-box;
      position: relative;
    }

    /* 7mm space after the slip container */
    .slip-wrapper {
      margin-bottom: 7mm;
    }

    /**************************************************************
     * SLIP = TABLE (wkhtmltopdf safe)
     **************************************************************/
    .slip {
      display: table;
      table-layout: fixed;
      width: 100%;
      height: calc((297mm - 16mm - (5 * 7mm)) / 6); /* slip height unchanged */
      border: 2px solid #000;
      box-sizing: border-box;
      margin-bottom: 0;
      overflow: hidden;
      position: relative;
    }

    /**************************************************************
     * LEFT COLUMN (serial number)
     **************************************************************/
    .serial-box {
      display: table-cell;
      vertical-align: middle;
      width: 22%;
      min-width: 90px;
      border-right: 2px solid #000;
      text-align: center;
      font-size: 60px;     /* slightly reduced */
      line-height: 0.9;
      padding: 0 4px;      /* compact */
      box-sizing: border-box;
    }

    /**************************************************************
     * RIGHT COLUMN
     **************************************************************/
    .right {
      display: table-cell;
      vertical-align: top;
      width: 78%;
      padding: 4px 8px;   /* compact */
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
    }

    /**************************************************************
     * HEADER
     **************************************************************/
    .header-wrap {
      height: 36px;              /* reduced */
      display: flex;
      align-items: flex-end;
     /* padding-bottom: 2px;        /* reduced */
      box-sizing: border-box;
    }

    .header {
      width: 100%;
      text-align: center;
      font-size: 20px;            /* reduced */
      margin: 0;
      /*padding-bottom: 2px;        /* reduced */
      border-bottom: 2px solid #000;
      line-height: 1;
      box-sizing: border-box;
    }

    /**************************************************************
     * MIDDLE CONTENT
     **************************************************************/
    .middle {
      flex: 1 1 auto;
      padding-top: 4px;           /* compact */
      box-sizing: border-box;
      display: block;
      overflow: hidden;
    }

    .field {
      width: 100%;
      display: table;
      table-layout: fixed;
      margin-bottom: 3px;         /* compact */
      box-sizing: border-box;
    }

    .label {
      display: table-cell;
      width: 110px;               /* narrower */
      vertical-align: top;
      padding-right: 4px;         /* compact */
      white-space: nowrap;
      font-weight: 600;
      font-size: 12px;
      box-sizing: border-box;
    }

    .value {
      display: table-cell;
      vertical-align: top;
      word-break: break-word;
      white-space: normal;
      font-size: 12.5px;
      box-sizing: border-box;
    }

    /**************************************************************
     * FOOTER
     **************************************************************/
    .footer-wrap {
      flex: 0 0 auto;
      margin-top: 4px;            /* compact */
      box-sizing: border-box;
    }

    .polling {
      border-top: 2px solid #000;
      padding-top: 4px;           /* compact */
      font-size: 11px;
      text-align: left;
      /*margin-bottom: 3px;         /* compact */
    }


    .page { page-break-after: always; }

  </style>
</head>

<body>
  <div class="page">
    <% slips.each do |s| %>
      <div class="slip-wrapper">
        <div class="slip">

          <!-- LEFT SERIAL COLUMN -->
          <div class="serial-box"><%= s[:serial] %></div>

          <!-- RIGHT SECTION -->
          <div class="right">

            <!-- HEADER -->
            <div class="header-wrap">
              <div class="header">വാർഡ്: 012 - പഴയവൈത്തിരി </div>
            </div>

            <!-- MAIN CONTENT -->
            <div class="middle">
              <div class="field">
                <div class="label">കാർഡ് നമ്പർ</div>
                <div class="value"><%= s[:card] %></div>
              </div>

              <div class="field">
                <div class="label">പേർ</div>
                <div class="value"><%= s[:name] %></div>
              </div>

              <div class="field">
                <div class="label">വീട്ടു പേര്</div>
                <div class="value"><%= s[:house] %></div>
              </div>

              <div class="field">
                <div class="label">രക്ഷിതാവ്</div>
                <div class="value"><%= s[:guardian] %></div>
              </div>
            </div>

            <!-- FOOTER -->
            <div class="footer-wrap">
              <div class="polling">POLLING STATION: 01-കൃഷി ഭവൻ പഴയവൈത്തിരി </div>
            </div>

          </div>
        </div>
      </div>
    <% end %>
  </div>
</body>
</html>
